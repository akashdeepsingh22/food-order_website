<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu of Categories Food</title>
    <link rel="stylesheet" href="/static/pizzamanu.css">
</head>

<body>
    <nav class="navbar">
        <ul>
            <li><a href="{% url 'index' %}">Home</a></li>
            <li><a href="{% url 'menu' %}" id="menu-link" class="disabled">Menu</a></li>
            <li><a href="{% url 'order' %}" id="order-link">Order</a></li>
            <li><a href="{% url 'contact' %}" id="contact-link">Contact</a></li>
            <li><a href="{% url 'login' %}">Login</a></li>
        </ul>
    </nav>

    <section class="menu">
        <h2>Our Delicious Menu</h2>
        <div class="menu-grid" id="menu-grid">
            <!-- Item 1 -->
            <div class="menu-item" id="item1">
                <img src="/static/images/cornpizza.jpeg" alt="Aloo Tikki Burger" class="menu-image">
                <h3>Corn pizza</h3>
                <p>Deliciously fluffy and crispy burger, served with your choice of toppings.</p>
                <button class="select-item-btn" id="select1" onclick="selectItem(1, 'Aloo Tikki Burger', 5)">Select Item</button>
            </div>

            <!-- Item 2 -->
            <div class="menu-item" id="item2">
                <img src="/static/images/pannerpizza.jpg" alt="Panner Tikki Burger" class="menu-image">
                <h3>Panner Pizza</h3>
                <p>A classic burger with fresh ingredients, crispy crust, and gooey cheese.</p>
                <button class="select-item-btn" id="select2" onclick="selectItem(2, 'Panner Tikki Burger', 6)">Select Item</button>
            </div>

            <!-- Additional Items -->
            <div class="menu-item">
                <img src="/static/images/dish3.jpg" alt="Dish 3" class="menu-image">
                <h3>Dish Name 3</h3>
                <p>Explore our exquisite selection of dishes made from the finest ingredients.</p>
            </div>
            <div class="menu-item">
                <img src="/static/images/dish4.jpg" alt="Dish 4" class="menu-image">
                <h3>Dish Name 4</h3>
                <p>A savory delight, packed with flavor and perfectly cooked to perfection.</p>
            </div>
            <div class="menu-item">
                <img src="/static/images/dish5.jpg" alt="Dish 5" class="menu-image">
                <h3>Dish Name 5</h3>
                <p>A fresh, healthy option, perfect for those seeking a lighter meal.</p>
            </div>
        </div>

        <!-- Order Now Button -->
        <button id="order-now-btn" onclick="showOrderSummary()" style="background-color: #2a9d8f; color: white;">Order Now</button>

        <!-- Order Summary Modal (Hidden by default) -->
        <div id="order-summary" style="display: none;">
            <h3>Order Summary</h3>
            <ul id="order-list"></ul>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Food Ordering Website</p>
    </footer>

    <script src="/static/javascripts/script.js"></script>

    <script>
        // Array to store selected items
        let selectedItems = [];

        // Function to select an item and adjust quantity
        function selectItem(itemId, itemName, itemPrice) {
            const selectButton = document.getElementById('select' + itemId);
            let item = selectedItems.find(item => item.id === itemId);

            if (!item) {
                // If item is not in the list, add it
                selectedItems.push({ id: itemId, name: itemName, price: itemPrice, quantity: 1 });
                selectButton.innerHTML = `- ${itemName} + 1`; // Show the quantity increase
            } else {
                // If the item is already in the list, change quantity
                if (selectButton.innerHTML.includes('+')) {
                    item.quantity += 1; // Increment quantity
                    selectButton.innerHTML = `- ${itemName} + ${item.quantity}`;
                } else if (item.quantity > 1) {
                    item.quantity -= 1; // Decrease quantity if greater than 1
                    selectButton.innerHTML = `- ${itemName} + ${item.quantity}`;
                } else {
                    // If quantity is 1, remove item from the selection
                    selectedItems = selectedItems.filter(i => i.id !== itemId);
                    selectButton.innerHTML = `Select Item`;
                }
            }
        }

        // Function to show the order summary
        function showOrderSummary() {
            const orderSummaryDiv = document.getElementById('order-summary');
            const orderList = document.getElementById('order-list');
            orderList.innerHTML = ''; // Clear the current list

            if (selectedItems.length > 0) {
                // Show the order items
                selectedItems.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = `${item.name} - Quantity: ${item.quantity}, Price: ${item.price * item.quantity}`;
                    orderList.appendChild(li);
                });

                // Store the selected items in localStorage to pass to the order page
                localStorage.setItem('orderItems', JSON.stringify(selectedItems));

                orderSummaryDiv.style.display = 'block'; // Show the order summary
            } else {
                alert("No items selected yet.");
            }
        }
    </script>
</body>

</html>
